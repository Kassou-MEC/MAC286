<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Separate Chaining Hash Tables – Interactive Presentation</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#6c5ce7 0%,#a29bfe 100%);min-height:100vh;color:#333;overflow-x:hidden}
    .presentation-container{max-width:1200px;margin:0 auto;padding:20px;display:flex;flex-direction:column}
    .scroll-indicator{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(108,92,231,.8);color:#fff;padding:5px 15px;border-radius:20px;font-size:12px;opacity:0;transition:opacity .3s;pointer-events:none}
    .scroll-indicator.show{opacity:1}
    .slide{background:#fff;border-radius:15px;padding:40px;margin-bottom:30px;box-shadow:0 10px 30px rgba(0,0,0,.2);opacity:0;transform:translateY(30px);transition:all .6s;min-height:calc(100vh - 100px);max-height:calc(100vh - 100px);overflow-y:auto;display:none;position:relative}
    .slide.active{opacity:1;transform:translateY(0);display:block}
    .slide::-webkit-scrollbar{width:8px}
    .slide::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}
    .slide::-webkit-scrollbar-thumb{background:#6c5ce7;border-radius:4px}
    h1{font-size:2.5em;color:#2c3e50;text-align:center;margin-bottom:30px;background:linear-gradient(45deg,#6c5ce7,#a29bfe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    h2{font-size:2em;color:#34495e;margin-bottom:20px;border-bottom:3px solid #6c5ce7;padding-bottom:10px}
    h3{font-size:1.5em;color:#6c5ce7;margin:20px 0 15px}
    .definition-box{background:linear-gradient(135deg,#74b9ff,#0984e3);color:#fff;padding:25px;border-radius:10px;margin:20px 0;border-left:5px solid #6c5ce7}
    .real-life-example{background:linear-gradient(135deg,#fd79a8,#e84393);color:#fff;padding:25px;border-radius:10px;margin:20px 0;position:relative;overflow:hidden}
    .real-life-example::before{content:'Filing Cabinet';position:absolute;top:10px;right:15px;font-size:2em;opacity:.3}
    .hash-table-visual{display:flex;justify-content:center;margin:30px 0;flex-wrap:wrap;gap:15px}
    .bucket{width:100px;height:100px;border:3px dashed #6c5ce7;border-radius:12px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:8px;background:#f8f9fa;transition:all .3s;position:relative;overflow:hidden}
    .bucket .index{font-size:.8em;color:#7f8c8d;position:absolute;top:4px;left:6px;font-weight:bold}
    .chain{display:flex;flex-direction:column;gap:4px;margin-top:15px;width:100%}
    .chain-item{background:linear-gradient(135deg,#6c5ce7,#a29bfe);color:#fff;padding:4px 8px;border-radius:6px;font-size:0.8em;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .empty-bucket::after{content:"[EMPTY]";color:#b2bec3;font-style:italic;margin-top:20px}
    .code-container{background:#2c3e50;color:#ecf0f1;padding:25px;border-radius:10px;margin:20px 0;font-family:'Courier New',monospace;font-size:14px;line-height:1.6;overflow-x:auto;position:relative}
    .code-container::before{content:'Java Code';position:absolute;top:5px;right:15px;background:#6c5ce7;color:#fff;padding:2px 8px;border-radius:4px;font-size:.8em}
    .copy-btn{position:absolute;top:5px;right:100px;background:#27ae60;color:#fff;padding:5px 10px;border:none;border-radius:4px;font-size:12px;cursor:pointer}
    .copy-btn:hover{background:#1e8449}
    .keyword{color:#e74c3c;font-weight:bold}
    .string{color:#2ecc71}
    .comment{color:#95a5a6;font-style:italic}
    .method{color:#f39c12}
    .interactive-demo{background:#f8f9fa;padding:25px;border-radius:10px;margin:20px 0;border:2px dashed #6c5ce7}
    .demo-controls{display:flex;gap:15px;margin-bottom:20px;flex-wrap:wrap}
    .demo-input{padding:10px;border:2px solid #bdc3c7;border-radius:5px;font-size:16px;outline:none;transition:border-color .3s}
    .demo-input:focus{border-color:#6c5ce7}
    .demo-button{background:linear-gradient(135deg,#6c5ce7,#a29bfe);color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px;font-weight:bold;transition:transform .2s}
    .demo-button:hover{transform:translateY(-2px)}
    .demo-button:active{transform:translateY(0)}
    .step-log{background:#2c3e50;color:#ecf0f1;padding:15px;border-radius:8px;margin-top:15px;font-family:'Courier New',monospace;font-size:13px;max-height:200px;overflow-y:auto}
    .navigation{position:fixed;bottom:30px;right:30px;display:flex;gap:15px;z-index:1000}
    .nav-button{background:#6c5ce7;color:#fff;border:none;padding:15px 20px;border-radius:50px;cursor:pointer;font-size:18px;font-weight:bold;transition:all .3s;box-shadow:0 4px 15px rgba(108,92,231,.4);min-width:50px;min-height:50px;display:flex;align-items:center;justify-content:center}
    .nav-button:hover{background:#5a4fcf;transform:translateY(-2px);box-shadow:0 6px 20px rgba(108,92,231,.6)}
    .nav-button:disabled{opacity:.5;cursor:not-allowed}
    .progress-bar{position:fixed;top:0;left:0;height:4px;background:linear-gradient(90deg,#6c5ce7,#a29bfe);transition:width .3s;z-index:1000}
    .advantages-disadvantages{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin:20px 0}
    .advantage{background:linear-gradient(135deg,#00b894,#55efc4);color:#fff;padding:20px;border-radius:10px;position:relative}
    .advantage::before{content:'Check';position:absolute;top:10px;right:15px;font-size:1.5em;font-weight:bold}
    .disadvantage{background:linear-gradient(135deg,#e17055,#fdcb6e);color:#fff;padding:20px;border-radius:10px;position:relative}
    .disadvantage::before{content:'Cross';position:absolute;top:10px;right:15px;font-size:1.5em}
    .complexity-table{width:100%;border-collapse:collapse;margin:20px 0;background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,.1)}
    .complexity-table th,.complexity-table td{padding:15px;text-align:left;border-bottom:1px solid #f1f1f1}
    .complexity-table th{background:linear-gradient(135deg,#6c5ce7,#a29bfe);color:#fff;font-weight:bold}
    .complexity-table tr:nth-child(even){background:#f8f9fa}
    @media(max-width:768px){
        .presentation-container{padding:10px}
        .slide{padding:20px}
        h1{font-size:2em}
        h2{font-size:1.5em}
        .advantages-disadvantages{grid-template-columns:1fr}
        .demo-controls{flex-direction:column}
        .hash-table-visual{gap:10px}
        .bucket{width:80px;height:80px}
    }
    .highlight-animation{animation:highlight 2s ease-in-out}
    @keyframes highlight{0%,100%{background-color:transparent}50%{background-color:rgba(108,92,231,.3)}}
</style>
</head>
<body>
<div class="progress-bar" id="progressBar"></div>

<div class="presentation-container">

<!------------------- SLIDE 1 – Title ------------------->
<div class="slide active">
    <h1>Separate Chaining Hash Tables</h1>
    <div style="text-align:center;font-size:1.2em;color:#7f8c8d;margin:30px 0">
        <p>A Collision-Resolution Technique Using Linked Lists</p>
        <p style="margin-top:20px;font-size:.9em">Each bucket holds a chain of colliding elements</p>
    </div>
    <div style="text-align:center;margin-top:40px">
        <div style="display:inline-block;background:linear-gradient(135deg,#6c5ce7,#a29bfe);padding:20px 40px;border-radius:50px;color:#fff;font-size:1.1em">
            Click <strong>Next</strong> to Begin!
        </div>
    </div>
</div>

<!------------------- SLIDE 2 – Definition ------------------->
<div class="slide">
    <h2>What is Separate Chaining?</h2>
    <div class="definition-box">
        <h3 style="color:#fff;margin-top:0">Core Idea</h3>
        <p style="font-size:1.2em;line-height:1.6">
            Every slot of the hash table is a <strong>list</strong> (chain).  
            When two keys hash to the same index, they are simply appended to that list.
        </p>
    </div>
    <h3>Key Points</h3>
    <ul style="font-size:1.1em;line-height:1.8;margin:20px 0;padding-left:30px">
        <li>No probing – collisions are stored in the same bucket</li>
        <li>Works with any load factor (even > 1)</li>
        <li>Simple to implement with <code>ArrayList&lt;Node&gt;</code></li>
    </ul>
    <div class="scroll-indicator">Scroll for more</div>
</div>

<!------------------- SLIDE 3 – Real-Life Example ------------------->
<div class="slide">
    <h2>Real-Life Example: Filing Cabinet</h2>
    <div class="real-life-example">
        <h3 style="color:#fff;margin-top:0">Filing Cabinet Analogy</h3>
        <p style="font-size:1.1em;line-height:1.7;">
            Imagine a filing cabinet with drawers numbered 0-9.<br>
            <strong>Rule:</strong> All documents whose ID starts with the same digit go into the same drawer.
        </p>
        <br>
        <p style="font-size:1.1em;line-height:1.7;">
            <strong>Example:</strong><br>
            • ID <code>5123</code> → drawer <code>5</code><br>
            • ID <code>5876</code> → drawer <code>5</code> (collision!)<br>
            • Both files are placed <strong>in the same drawer</strong>, one after the other.
        </p>
    </div>
    <div style="background:#f8f9fa;padding:20px;border-radius:10px;margin-top:20px;">
        <h3>Visual</h3>
        <div style="font-family:'Courier New',monospace;background:#fff;padding:15px;border-radius:8px;margin-top:10px;">
            Drawer 5: [5123] → [5876] → [null]
        </div>
    </div>
</div>

<!------------------- SLIDE 4 – Visual Animation ------------------->
<div class="slide">
    <h2>Visual Animation</h2>
    <div class="hash-table-visual" id="visualDemo"></div>
    <div style="text-align:center;margin-top:20px">
        <button class="demo-button" onclick="startVisualDemo()">Start Animation</button>
        <button class="demo-button" onclick="resetVisualDemo()" style="margin-left:10px;background:linear-gradient(135deg,#e74c3c,#c0392b)">Reset</button>
    </div>
    <div id="visualSteps" style="margin-top:20px;padding:15px;background:#2c3e50;color:#ecf0f1;border-radius:8px;font-family:'Courier New',monospace;font-size:13px">
        Click “Start Animation” to watch chains grow.
    </div>
</div>

<!------------------- SLIDE 5 – Interactive Demo ------------------->
<div class="slide">
    <h2>Interactive Demo</h2>
    <div class="interactive-demo">
        <div class="demo-controls">
            <input type="text" id="demoKey" class="demo-input" placeholder="Key (e.g. sun)">
            <input type="number" id="demoValue" class="demo-input" placeholder="Value (number)">
            <button class="demo-button" onclick="insertDemo()">Insert</button>
            <button class="demo-button" onclick="searchDemo()">Search</button>
            <button class="demo-button" onclick="clearDemo()" style="background:linear-gradient(135deg,#e74c3c,#c0392b)">Clear</button>
        </div>
        <div class="hash-table-visual" id="interactiveTable"></div>
        <div id="interactiveLog" class="step-log">Ready – try inserting “sun”, “moon”, “star”.</div>
    </div>
</div>

<!------------------- SLIDE 6 – Java Code ------------------->
<div class="slide">
    <h2>Java Implementation</h2>
    <p style="margin-bottom:20px">Copy the code and run it in <a href="https://www.jdoodle.com/online-java-compiler/" target="_blank" style="color:#6c5ce7">JDoodle</a>.</p>
    <div class="code-container" style="position:relative">
        <button class="copy-btn" onclick="copyJavaCode()">Copy Code</button>
<pre id="javaCode"><code><span class="comment">// ============================================================================
// SEPARATE CHAINING - Simple Classroom Demo (60 lines)
// Real-life: Filing cabinet - multiple files in same drawer, organized in chain
// ============================================================================</span>

<span class="keyword">import</span> java.util.*;

<span class="keyword">public class</span> SeparateChainingSimple {
    <span class="keyword">private</span> List&lt;Node&gt;[] table;
    <span class="keyword">private int</span> capacity;
    
    <span class="keyword">static class</span> Node {
        String key;
        Integer value;
        
        Node(String key, Integer value) {
            <span class="keyword">this</span>.key = key;
            <span class="keyword">this</span>.value = value;
        }
        
        <span class="keyword">public</span> String <span class="method">toString</span>() {
            <span class="keyword">return</span> key + <span class="string">"="</span> + value;
        }
    }
    
    @SuppressWarnings(<span class="string">"unchecked"</span>)
    <span class="keyword">public</span> <span class="method">SeparateChainingSimple</span>(<span class="keyword">int</span> capacity) {
        <span class="keyword">this</span>.capacity = capacity;
        <span class="keyword">this</span>.table = <span class="keyword">new</span> ArrayList[capacity];
        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; capacity; i++) {
            table[i] = <span class="keyword">new</span> ArrayList&lt;&gt;();
        }
    }
    
    <span class="keyword">private int</span> <span class="method">hash</span>(String key) {
        <span class="keyword">return</span> Math.abs(key.hashCode()) % capacity;
    }
    
    <span class="keyword">public void</span> <span class="method">put</span>(String key, Integer value) {
        <span class="keyword">int</span> index = hash(key);
        List&lt;Node&gt; chain = table[index];
        
        System.out.println(<span class="string">"Inserting "</span> + key + <span class="string">" → hash="</span> + index);
        
        <span class="comment">// Check if key already exists</span>
        <span class="keyword">for</span> (Node node : chain) {
            <span class="keyword">if</span> (node.key.equals(key)) {
                node.value = value;  <span class="comment">// Update existing</span>
                System.out.println(<span class="string">"  Updated existing key in chain\n"</span>);
                <span class="keyword">return</span>;
            }
        }
        
        <span class="comment">// Add new node to chain</span>
        chain.add(<span class="keyword">new</span> Node(key, value));
        System.out.println(<span class="string">"  Added to chain (length now: "</span> + chain.size() + <span class="string">")\n"</span>);
    }
    
    <span class="keyword">public</span> Integer <span class="method">get</span>(String key) {
        <span class="keyword">int</span> index = hash(key);
        List&lt;Node&gt; chain = table[index];
        
        <span class="keyword">for</span> (Node node : chain) {
            <span class="keyword">if</span> (node.key.equals(key)) {
                <span class="keyword">return</span> node.value;
            }
        }
        <span class="keyword">return null</span>;
    }
    
    <span class="keyword">public void</span> <span class="method">display</span>() {
        System.out.println(<span class="string">"=== Separate Chaining Hash Table ==="</span>);
        <span class="keyword">for</span> (<span class="keyword">int</span> i = 0; i &lt; capacity; i++) {
            System.out.print(i + <span class="string">": "</span>);
            <span class="keyword">if</span> (table[i].isEmpty()) {
                System.out.println(<span class="string">"[EMPTY]"</span>);
            } <span class="keyword">else</span> {
                System.out.println(table[i]);
            }
        }
        System.out.println();
    }
    
    <span class="keyword">public static void</span> <span class="method">main</span>(String[] args) {
        System.out.println(<span class="string">"SEPARATE CHAINING DEMO"</span>);
        System.out.println(<span class="string">"Concept: Each slot holds a list of all items that hash there\n"</span>);
        
        SeparateChainingSimple table = <span class="keyword">new</span> SeparateChainingSimple(5);
        
        table.put(<span class="string">"sun"</span>, 100);
        table.put(<span class="string">"moon"</span>, 200);
        table.put(<span class="string">"star"</span>, 300);  <span class="comment">// Will likely create chains!</span>
        
        table.display();
        
        System.out.println(<span class="string">"Finding 'moon': "</span> + table.get(<span class="string">"moon"</span>));
        System.out.println(<span class="string">"Finding 'star': "</span> + table.get(<span class="string">"star"</span>));
        
        System.out.println(<span class="string">"\nAdvantage: Simple, handles any load factor"</span>);
        System.out.println(<span class="string">"Problem: Extra memory for pointers"</span>);
    }
}</code></pre>
    </div>
    <div class="scroll-indicator">Scroll to copy</div>
</div>

<!------------------- SLIDE 7 – Code Walk-through ------------------->
<div class="slide">
    <h2>Code Walk-through</h2>
    <div style="background:#f8f9fa;padding:20px;border-radius:10px;margin:20px 0">
        <h3>Important Parts</h3>
        <ul style="line-height:1.8;font-size:1.1em">
            <li><code>List&lt;Node&gt;[] table</code> – array of lists</li>
            <li><code>put()</code> – find bucket, update or append</li>
            <li><code>get()</code> – linear search inside the chain</li>
            <li><code>display()</code> – prints each bucket’s list</li>
        </ul>
    </div>
    <h3>Sample Output</h3>
    <div style="font-family:'Courier New',monospace;background:#2c3e50;color:#ecf0f1;padding:15px;border-radius:8px">
        Inserting sun → hash=3<br>
        Added to chain (length now: 1)<br><br>
        Inserting moon → hash=3<br>
        Added to chain (length now: 2)
    </div>
</div>

<!------------------- SLIDE 8 – Advantages / Disadvantages ------------------->
<div class="slide">
    <h2>Advantages & Disadvantages</h2>
    <div class="advantages-disadvantages">
        <div class="advantage">
            <h3>Advantages</h3>
            <ul style="margin-top:15px;line-height:1.6">
                <li>No probing, simple logic</li>
                <li>Works with any load factor</li>
                <li>Easy deletion (just remove from list)</li>
            </ul>
        </div>
        <div class="disadvantage">
            <h3>Disadvantages</h3>
            <ul style="margin-top:15px;line-height:1.6">
                <li>Extra memory for list nodes</li>
                <li>Cache-unfriendly (pointer chasing)</li>
                <li>Performance degrades when chains become long</li>
            </ul>
        </div>
    </div>
</div>

<!------------------- SLIDE 9 – Time Complexity ------------------->
<div class="slide">
    <h2>Time Complexity</h2>
    <table class="complexity-table">
        <thead><tr><th>Operation</th><th>Average</th><th>Worst</th><th>Notes</th></tr></thead>
        <tbody>
            <tr><td><strong>Insert</strong></td><td>O(1)</td><td>O(n)</td><td>if one bucket holds all</td></tr>
            <tr><td><strong>Search</strong></td><td>O(1)</td><td>O(n)</td><td>linear scan of chain</td></tr>
            <tr><td><strong>Delete</strong></td><td>O(1)</td><td>O(n)</td><td>same as search</td></tr>
        </tbody>
    </table>
    <div style="background:#f8f9fa;padding:20px;border-radius:10px;margin-top:20px">
        <p><strong>Load factor α = n / m</strong> – keep α ≤ 1 for good average performance.</p>
    </div>
</div>

<!------------------- SLIDE 10 – Summary ------------------->
<div class="slide">
    <h2>Summary</h2>
    <div style="background:linear-gradient(135deg,#6c5ce7,#a29bfe);color:#fff;padding:25px;border-radius:10px">
        <h3 style="color:#fff;margin-top:0">Key Takeaways</h3>
        <ul style="font-size:1.1em;line-height:1.8;margin-top:15px">
            <li>Separate chaining = <strong>list per bucket</strong></li>
            <li>Handles collisions gracefully</li>
            <li>Real-world analogy: filing cabinet drawers</li>
            <li>Best when memory is not a tight constraint</li>
        </ul>
    </div>
    <div style="text-align:center;margin-top:30px">
        <div style="display:inline-block;background:linear-gradient(135deg,#00b894,#55efc4);padding:20px 40px;border-radius:50px;color:#fff;font-size:1.2em;font-weight:bold">
            You’ve Mastered Separate Chaining!
        </div>
    </div>
</div>

</div>

<!------------------- NAVIGATION ------------------->
<div class="navigation">
    <button class="nav-button" id="prevBtn" onclick="previousSlide()">Prev</button>
    <div id="slideCounter" style="background:rgba(44,62,80,.9);color:#fff;padding:15px 20px;border-radius:50px;display:flex;align-items:center;font-weight:bold;box-shadow:0 4px 15px rgba(44,62,80,.4)">
        1 / 10
    </div>
    <button class="nav-button" id="nextBtn" onclick="nextSlide()">Next</button>
</div>

<script>
/* ---------- GLOBAL STATE ---------- */
const slides = document.querySelectorAll('.slide');
const totalSlides = slides.length;
let currentSlide = 0;

const demoTable = {
    capacity: 5,
    chains: Array.from({length:5},()=>[])
};

/* ---------- COPY CODE ---------- */
function copyJavaCode() {
    const code = document.getElementById('javaCode').innerText;
    navigator.clipboard.writeText(code).then(()=>{
        const btn = document.querySelector('.copy-btn');
        const orig = btn.textContent;
        btn.textContent='Copied!';
        btn.style.background='#27ae60';
        setTimeout(()=>{btn.textContent=orig; btn.style.background='';},2000);
    });
}

/* ---------- UI HELPERS ---------- */
function updateProgress() {
    const pct = ((currentSlide+1)/totalSlides)*100;
    document.getElementById('progressBar').style.width = pct+'%';
}
function showSlide(n){
    slides[currentSlide].classList.remove('active');
    currentSlide = (n+totalSlides)%totalSlides;
    slides[currentSlide].classList.add('active');
    updateProgress();
    document.getElementById('slideCounter').textContent = `${currentSlide+1} / ${totalSlides}`;
    document.getElementById('prevBtn').disabled = currentSlide===0;
    document.getElementById('nextBtn').disabled = currentSlide===totalSlides-1;
}
function nextSlide(){ if(currentSlide<totalSlides-1) showSlide(currentSlide+1); }
function previousSlide(){ if(currentSlide>0) showSlide(currentSlide-1); }
document.addEventListener('keydown',e=>{
    if(e.key==='ArrowRight') nextSlide();
    if(e.key==='ArrowLeft') previousSlide();
});

/* ---------- HASH (demo) ---------- */
function demoHash(key){
    let h=0;
    for(let i=0;i<key.length;i++) h=((h<<5)-h)+key.charCodeAt(i);
    return Math.abs(h)%demoTable.capacity;
}

/* ---------- VISUAL DEMO ---------- */
function initTable(id){
    const cont = document.getElementById(id);
    cont.innerHTML='';
    for(let i=0;i<demoTable.capacity;i++){
        const bucket = document.createElement('div');
        bucket.className='bucket';
        bucket.innerHTML=`<div class="index">${i}</div><div class="chain"></div>`;
        if(demoTable.chains[i].length===0) bucket.classList.add('empty-bucket');
        cont.appendChild(bucket);
    }
}
function renderTable(id){
    const buckets = document.querySelectorAll(`#${id} .bucket`);
    buckets.forEach((b,i)=>{
        const chainDiv = b.querySelector('.chain');
        chainDiv.innerHTML='';
        demoTable.chains[i].forEach(item=>{
            const el = document.createElement('div');
            el.className='chain-item';
            el.textContent=`${item.key}=${item.value}`;
            chainDiv.appendChild(el);
        });
        b.classList.toggle('empty-bucket', demoTable.chains[i].length===0);
    });
}
function startVisualDemo(){
    resetDemo();
    const steps = document.getElementById('visualSteps');
    const data = [{k:'sun',v:100},{k:'moon',v:200},{k:'star',v:300}];
    let i=0;
    function step(){
        if(i>=data.length){ steps.innerHTML='Animation finished!'; return; }
        const {k,v}=data[i];
        const idx = demoHash(k);
        steps.innerHTML=`Inserting "${k}" → hash=${idx}<br>Adding to bucket ${idx}`;
        demoTable.chains[idx].push({key:k,value:v});
        renderTable('visualDemo');
        i++;
        setTimeout(step,1500);
    }
    step();
}
function resetVisualDemo(){
    demoTable.chains = Array.from({length:5},()=>[]);
    initTable('visualDemo');
    renderTable('visualDemo');
    document.getElementById('visualSteps').innerHTML='Click “Start Animation” to watch chains grow.';
}

/* ---------- INTERACTIVE DEMO ---------- */
initTable('interactiveTable');
function insertDemo(){
    const key = document.getElementById('demoKey').value.trim();
    const val = parseInt(document.getElementById('demoValue').value);
    const log = document.getElementById('interactiveLog');
    if(!key || isNaN(val)){ log.textContent='Enter key & number'; return; }
    const idx = demoHash(key);
    const existing = demoTable.chains[idx].find(n=>n.key===key);
    if(existing){
        existing.value = val;
        log.innerHTML=`Updated "${key}" in bucket ${idx}`;
    }else{
        demoTable.chains[idx].push({key,value:val});
        log.innerHTML=`Added "${key}" to bucket ${idx} (chain length ${demoTable.chains[idx].length})`;
    }
    renderTable('interactiveTable');
    document.getElementById('demoKey').value='';
    document.getElementById('demoValue').value='';
}
function searchDemo(){
    const key = document.getElementById('demoKey').value.trim();
    const log = document.getElementById('interactiveLog');
    if(!key){ log.textContent='Enter a key'; return; }
    const idx = demoHash(key);
    const node = demoTable.chains[idx].find(n=>n.key===key);
    if(node){
        log.innerHTML=`Found "${key}" in bucket ${idx} → value = ${node.value}`;
        highlightBucket(idx,'interactiveTable');
    }else{
        log.innerHTML=`"${key}" not found`;
    }
}
function clearDemo(){
    demoTable.chains = Array.from({length:5},()=>[]);
    renderTable('interactiveTable');
    document.getElementById('interactiveLog').textContent='Table cleared!';
}
function highlightBucket(idx, container){
    const bucket = document.querySelectorAll(`#${container} .bucket`)[idx];
    bucket.classList.add('highlight-animation');
    setTimeout(()=>bucket.classList.remove('highlight-animation'),2000);
}

/* ---------- INITIALISE ---------- */
initTable('visualDemo');
updateProgress();
showSlide(0);
</script>
</body>
</html>